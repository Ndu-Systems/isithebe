{"version":3,"sources":["webpack:///./src/app/views/callbacks/callbacks.module.ts","webpack:///./src/app/views/callbacks/callbacks.routing.ts","webpack:///./src/app/views/callbacks/list-callbacks/index.ts","webpack:///./src/app/views/callbacks/list-callbacks/list-callbacks.component.html","webpack:///./src/app/views/callbacks/list-callbacks/list-callbacks.component.ts","webpack:///./src/app/views/callbacks/pipes/call-status.pipe.ts"],"names":[],"mappings":"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","file":"callbacks-callbacks-module-ngfactory.js","sourcesContent":["import { CallbacksRoutes } from './callbacks.routing';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CallbacksComponent } from './callbacks.component';\r\nimport { ListCallbacksComponent } from './list-callbacks';\r\nimport { PageHeaderModule, PrimeNg, SpinnerModule } from '../../shared';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\nimport { CallStatusPipe } from './pipes/call-status.pipe';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SpinnerModule,\r\n    CallbacksRoutes,\r\n    PageHeaderModule,\r\n    CommonModule, FormsModule, Ng2SearchPipeModule, ...PrimeNg, NgxPaginationModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [...PrimeNg],\r\n  declarations: [CallbacksComponent, ListCallbacksComponent,CallStatusPipe]\r\n})\r\nexport class CallbacksModule { }\r\n","\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { ListCallbacksComponent } from './list-callbacks';\r\n\r\nconst routes: Routes = [\r\n  { path:'', component: ListCallbacksComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\n\r\nexport class CallbacksRoutes {}\r\n","export * from './list-callbacks.component'","<div [@routerTransition]>\r\n    Policies <app-page-header [heading]=\"'Call-Backs'\" [icon]=\"'fa-phone'\" [menus]=\"menus\"></app-page-header>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col col-xl-12 col-lg-12 col-md-12 col-sm-12\">\r\n            <div class=\"card mb-3\">\r\n                <div class=\"card-header\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6\">\r\n                            <!-- <a class=\"btn rounded-btn\" [routerLink]=\"['/clients/add']\">Add Client </a> -->\r\n                        </div>\r\n                        <div class=\"input-group mb-3 col-md-6\">\r\n                            <div class=\"input-group-prepend\">\r\n                                <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                    <li class=\"fa fa-search\"></li>\r\n                                </span>\r\n                            </div>\r\n                            <input type=\"text\" [(ngModel)]=\"searchText\" [ngModelOptions]=\"{standalone: true}\" class=\"form-control\"\r\n                                placeholder=\"Search...\" aria-label=\"Search\" aria-describedby=\"basic-addon1\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body table-responsive\">\r\n                    <table class=\"table table-bordered\" *ngIf=\"callbacks$ | async as callbacks; else loading\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Name</th>\r\n                                <th>Cell phone</th>\r\n                                <th>Call Date</th>\r\n                                <!-- <th>Last Called By</th> -->\r\n\r\n                                <!-- <th>Actions</th> -->\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let item of callbacks | filter: searchText | paginate: { itemsPerPage: 10, currentPage: p }\">\r\n\r\n                                <td>\r\n                                    <span class=\"call-status {{item.CallDate|callstatus}}\">\r\n                                        \r\n                                    </span>\r\n                                    {{item.Name}}\r\n                                </td>\r\n                                <td>{{item.Cellphone}}</td>\r\n                                <td>{{item.CallDate}}</td>\r\n                                <!-- <td>{{item.UserId}}</td> -->\r\n\r\n                                <!-- <td><a class=\"btn rounded-btn\" [routerLink]=\"\" (click)=\"closeCall(item)\">Close Call</a></td> -->\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <ng-template #loading>\r\n                        <app-spinner></app-spinner>\r\n                      </ng-template>\r\n                    <div>\r\n                      <span class=\"call-status orange\"></span>  Call requested less that {{numberOfDays}} days ago. <br>\r\n                      <span class=\"call-status red\"></span>   Call requested more that {{numberOfDays}} days ago. <br>\r\n                    </div>\r\n                    <div class=\"justify-content-center\">\r\n                        <pagination-controls (pageChange)=\"p = $event\"></pagination-controls>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { routerTransition } from '../../../router.animations';\r\nimport { SelectService } from '../../../shared';\r\nimport { MenuItem } from '../../../models/header/MenuItem';\r\nimport { CALL_ME_BACK_CRITACAL_NUMBER_OF_DAYS } from '../../../shared/config';\r\n\r\n@Component({\r\n  selector: 'app-list-callbacks',\r\n  templateUrl: './list-callbacks.component.html',\r\n  styleUrls: ['./list-callbacks.component.scss'],\r\n  animations: [routerTransition()]\r\n})\r\nexport class ListCallbacksComponent implements OnInit {\r\n  searchText;\r\n  p;\r\n  callbacks$;\r\n  menus:Array<MenuItem>;\r\n  numberOfDays:number = CALL_ME_BACK_CRITACAL_NUMBER_OF_DAYS;\r\n\r\n  constructor(private selectService : SelectService) { \r\n    this.callbacks$ = this.selectService.select(\"callbacks where StatusId = 1\")\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.menus = [\r\n      {name:'Dashboard',url:'/dashboard'}\r\n    ];\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { CALL_ME_BACK_CRITACAL_NUMBER_OF_DAYS } from '../../../shared/config';\r\n\r\n@Pipe({\r\n  name: 'callstatus'\r\n})\r\nexport class CallStatusPipe implements PipeTransform {\r\n\r\n  transform(value: Date ): string {\r\n    let today:Date = new Date();\r\n    let diff:number = this.date_diff_indays(value,today);\r\n    diff++;\r\n\r\n    if(!diff) return \"none\"\r\n    if(diff < CALL_ME_BACK_CRITACAL_NUMBER_OF_DAYS) return \"orange\"\r\n    if(diff >=CALL_ME_BACK_CRITACAL_NUMBER_OF_DAYS) return \"red\"\r\n    \r\n  }\r\n   date_diff_indays(date1, date2) :number{\r\n    let dt1 = new Date(date1);\r\n    let dt2 = new Date(date2);\r\n    return Math.floor((Date.UTC(dt2.getFullYear(), dt2.getMonth(), dt2.getDate()) - Date.UTC(dt1.getFullYear(), dt1.getMonth(), dt1.getDate()) ) /(1000 * 60 * 60 * 24));\r\n    }\r\n}\r\n"],"sourceRoot":""}